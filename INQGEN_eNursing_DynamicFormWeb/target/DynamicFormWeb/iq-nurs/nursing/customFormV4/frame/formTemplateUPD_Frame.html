<style>
html,
body,
#targetForm,
#pageResult {
    width: 100%;
    height: 100%;
}

.showFrame {
    width: 100%;
    height: 100%;
}
#ftInterlocking {
    width: 100%;
}
</style>
<style type="text/css">
.modal {
    display: none;
}

.modal .background {
    position: fixed;
    width: 100%;
    height: 100%;
    z-index: 100;
    top: 0;
    left: 0;
    background: #000;
    filter: alpha(opacity=40);
    opacity: 0.40;
}

.modal .content {
    position: fixed;
    top: 20%;
    left: 6%;
    width: 89%;
    height: 60%;
    z-index: 101;
}

ul,
li {
    margin: 0;
    padding: 0;
    list-style: none;
}

.abgne_tab {
    clear: left;
    width: 100%;
    margin: 10px 0;
}

ul.tabs {
    width: 100%;
    height: 32px;
    border-bottom: 1px solid #999;
    border-left: 1px solid #999;
}

ul.tabs li {
    float: left;
    height: 31px;
    line-height: 31px;
    overflow: hidden;
    position: relative;
    margin-bottom: -1px;
    /* 讓 li 往下移來遮住 ul 的部份 border-bottom */
    border: 1px solid #999;
    border-left: none;
    background: #e1e1e1;
}

ul.tabs li a {
    display: block;
    padding: 0 10px;
    color: #000;
    border: 1px solid #fff;
    text-decoration: none;
}

ul.tabs li a:hover {
    background: #ccc;
}

ul.tabs li.active {
    background: #fff;
    border-bottom: 1px solid#fff;
}

ul.tabs li.active a:hover {
    background: #fff;
}

div.tab_container {
    clear: left;
    width: 100%;
    border: 1px solid #999;
    border-top: none;
    background: #fff;
}

div.tab_container .tab_content {
    padding: 20px;
}

div.tab_container .tab_content h2 {
    margin: 25px 0 20px;
}

.wordBreak {
    word-break: break-all !important;
    word-wrap: break-all !important;
}
</style>
<!-- For Modal Template.css -->
<style>
    hr {
        display: block;
        height: 1px;
        border: 0;
        border-top: 1px solid #ccc;
        padding: 0;
        margin-left: 15px;
        margin-right: 15px
    }
    h3 {
        font-size:24px;
        font-weight: 400;
        margin: 10px 0;
        font-family: Microsoft JhengHei;
    }
    .w3-modal {
        z-index:3;
        display:none;
        padding-top:45px;
        position:fixed;
        left:0;
        top:0;
        width:100%;
        height:100%;
        overflow:auto;
        background-color:rgb(0,0,0);
        background-color:rgba(0,0,0,0.4)
    }
    .w3-modal-content {
        margin:auto;
        background-color:#fff;
        position:relative;
        padding:0;
        outline:0;
        overflow:auto;
        width:600px
    }
    .w3-scrollbar {
        overflow-y: auto;
    }
    .w3-max-height {
        max-height: 400px;
    }
    .w3-btn,.w3-button {
        border:none;
        display:inline-block;
        padding:8px 16px;
        vertical-align:middle;
        overflow:hidden;
        text-decoration:none;
        color:inherit;
        background-color:inherit;
        text-align:center;
        cursor:pointer;
        transition: 0.5s;
        white-space:nowrap
    }
    .w3-btn,.w3-button {
        -webkit-touch-callout:none;
        -webkit-user-select:none;
        -khtml-user-select:none;
        -moz-user-select:none;
        -ms-user-select:none;
        user-select:none
    }
    strong.w3-btn {
        padding: 8px 8px;
    }
    .w3-disabled,.w3-btn:disabled,.w3-button:disabled {
        cursor:not-allowed;
        opacity:0.3
    }
    .w3-container:after,.w3-container:before {
        content:"";
        display:table;
        clear:both
    }
    .w3-display-topright{
        position:absolute;
        right:0;
        top:0
    }
    .w3-container {
        padding: 0.01em 16px
    }
    .w3-block-1 {
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .w3-padding {
        padding: 8px 4px 10px 8px
    }
    .w3-padding-ud {
        padding: 15px 0;
    }
    .w3-margin {
        margin: 4px 4px;
    }
    .w3-margin-large {
        margin: 15px 15px;
    }
    .w3-main-block {
        padding: 10px 0px
    }
    .w3-title {
        padding-left: 10px;
        padding-right: 10px;
        position: absolute;
        left: 35px;
        background-color: #fff;
    }
    .w3-title-btn {
        position: absolute;
        min-width: 45px;
        right: 30px;
        padding: 2px 8px;
        font-size: 40px;
        margin-top: -15px;
        background-color: white;
    }
    .w3-select {
        padding:9px 0;
        max-width: 150px;
        border:none;
        border-bottom:1px solid #ccc
    }
    .w3-input {
        padding:8px;
        display:block;
        border:none;
        border-bottom:1px solid #ccc
    }
    .w3-large {
        width: 400px
    }
    .w3-blink-text {
        position: absolute;
        padding: 10px 10px;
        font-family: 'Kumar One Outline', cursive;
        color:#fff;
        font-size: 12pt;
        letter-spacing:2px;
        text-shadow:
           0 0 5px rgba(255,0,0, 1),
           0 0 10px rgba(255,0,0, 1),
           0 0 20px rgba(255,0,0, 1),
           0 0 40px rgba(255,0,0, 1);
        animation:neon-shine 1s linear infinite;
    }
    input[type="checkbox"].w3-check,.w3-radio {
        width: auto;
        display: none;
        box-sizing: border-box;
    }
    input[type="checkbox"].w3-check + label {
        position: relative;
        cursor: pointer;
        padding-left: 30px;
        margin-right: 5px;
        text-align: left;
    }
    input[type="checkbox"].w3-check + label:before {
        content: "";
        position: absolute;
        left: 5px;
        width: 20px;
        height: 20px;
        top: 50%;
        transform: translateY(-50%);
        border-radius: 3px;
        border: 1px solid #888888;
        background-color: #fff;
    }
    input[type="checkbox"].w3-check:disabled + label {
        color: #d9d9d9;
    }
    input[type="checkbox"].w3-check:disabled + label:before {
        content: "";
        position: absolute;
        left: 5px;
        width: 20px;
        height: 20px;
        top: 50%;
        transform: translateY(-50%);
        border-radius: 3px;
        border: 1px solid #d9d9d9;
        background-color: #f2f2f2;
    }
    input[type="checkbox"].w3-check:checked + label::after {
        content: "";
        position: absolute;
        left: 11px;
        width: 9px;
        height: 15px;
        top: 47%;
        transform: translateY(-50%) rotate(45deg);
        border-radius: 3px;
        border: 4px solid #00aefe;
        border-top: none;
        border-left: none;
    }
    .w3-button:hover {
        color:#000!important;
        background-color:#ccc!important
    }
    .w3-btn:hover {
        box-shadow:0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)
    }
    @media (max-width:600px) {
        .w3-modal-content {
            margin:0 10px;
            width:auto!important
        }
        .w3-modal {
            padding-top:30px
        }
    }
    @media (max-width:768px) {
        .w3-modal-content {
            width:500px
        }
        .w3-modal {
            padding-top:50px
        }
    }
    @media (min-width:993px) {
        .w3-modal-content {
            width:900px
        }
        .w3-hide-large {
            display:none!important
        }
    }
    .w3-animate-right {
        position:relative;
        -webkit-animation:animateleft 0.4s;
        animation:animateleft 0.4s
    }
    @-webkit-keyframes animateleft {
        from {
            right:-300px;
            opacity:0
        }
        to {
            right:0;
            opacity:1
        }
    }
    @keyframes neon-shine{
         0% {
            opacity:1;
         }
         90% {
            opacity:0.5;
         }
         100% {
            color:#ff0;
         }
    }
    .w3-transfer {
        transition: height 0.5s;
        -webkit-transition: height 0.5s;
    }
    .w3-disabled {
        cursor:not-allowed;
        opacity:0.3
    }
    .w3-border {
        border:1px solid #ccc!important
    }
    .w3-border-top {
        border-top:1px solid #ccc!important
    }
    .w3-border-bold {
        border:3px solid #ccc!important
    }
    .w3-main-item {
        padding: 8px 8px;
    }
    .w3-left {
        display: inline-block;
        width: 100px
    }
    .w3-right {
        display: inline-block;
        min-width: 700px
    }
    .w3-item-list {
        display: inline-block;
    }
    .w3-site-right {
        float: right!important;
    }
    .w3-site-left {
        float: left!important;
    }
    .w3-hide {
        display: none;
    }
    .w3-show {
        display: block;
    }
    /* Color */
    .w3-red {
        color: #f00;
    }
    .w3-white {
        color: #000!important;
        background-color: #fff!important
    }
    .w3-dark-gray {
        color: #fff!important;
        background-color: #A9A9A9!important
    }
    .w3-mineral-blue {
        color: #fff!important;
        background-color: #004D99!important
    }
    .w3-dodger-blue {
        color: #fff!important;
        background-color: #1E90FF!important
    }
    .w3-pale-green {
        color: #000!important;
        background-color: #98FB98!important
    }
    .w3-light-violet {
        color: #fff!important;
        background-color: #EE82EE!important
    }
    .w3-light-grey {
        color: #000!important;
        background-color: #f1f1f1!important
    }
    .w3-horizon-blue {
        color: #000!important;
        background-color: #A6FFCC!important
    }
    .w3-rose-red {
        color: #fff!important;
        background-color: #FF0DA6!important
    }
    .w3-bisque {
        color: #000!important;
        background-color: #FFE4C4!important
    }
    .w3-alice-blue {
        color: #000!important;
        background-color: #F0F8FF!important
    }
    .w3-aqtique-white {
        color: #000!important;
        background-color: #FAEBD7!important
    }
    .w3-snow {
        color: #000!important;
        background-color: #FFFAFA!important
    }
    .w3-mint-cream {
        color: #000!important;
        background-color: #F5FFFA!important
    }
    .w3-linen {
        color: #000!important;
        background-color: #FAF0E6!important
    }
    .w3-hover-sky-blue:hover {
        color: #fff!important;
        background-color: #87CEFA!important
    }
    .w3-hover-dark-violet:hover {
        color: #fff!important;
        background-color: #9400D3!important
    }
    .w3-hover-nany:hover {
        color: #fff!important;
        background-color: #000080!important
    }
    .w3-hover-forst-green:hover {
        color: #fff!important;
        background-color: #228B22!important
    }
    .w3-hover-burly-wood:hover {
        color: #000!important;
        background-color: #DEB887!important
    }
    .w3-hover-alice-blue:hover {
        color: #000!important;
        background-color: #F0F8F0!important
    }
    .w3-hover-aqtique-white:hover {
        color: #000!important;
        background-color: #FAE0D0!important
    }
    .w3-hover-snow:hover {
        color: #000!important;
        background-color: #FFFAF0!important
    }
    .w3-hover-mint-cream:hover {
        color: #000!important;
        background-color: #F5FFF0!important
    }
    .w3-hover-linen:hover {
        color: #000!important;
        background-color: #FAF0E0!important
    }
    .active {
        color: #fff!important;
        background-color: #f00!important
    }
</style>
<table class="wordBreak" width="100%" height="100%" align="center">
    <tr height="100px" valign="top">
        <td valign="top">
            <div style="margin: 0 auto;width: 80%;height: 100px;overflow-y: scroll;">
                <table class="wordBreak" width="100%" align="center" class="etable" >
                    <tr>
                        <th width="100px">表单名字</th>
                        <th width="100px">表单类型</th>
                        <th>表单子项</th>
                        <th width="100px">表单子项1</th>
                        <th width="200px"></th>
                    </tr>
                    <tr style="vertical-align: top;">
                        <td class="etd" align=center style="word-wrap:break-word;word-break:break-all;">
                            <p class="pFormItem" data-bean="ftFormName" data-controltype="label" />
                        </td>
                        <td class="etd" align=center style="word-wrap:break-word;word-break:break-all;">
                            <p class="pFormItem" data-bean="ftFormType" data-controltype="label" />
                        </td>
                        <td class="etd" align=center style="word-wrap:break-word;word-break:break-all;">
                            <p class="pFormItem" data-bean="ftItems" data-controltype="label" />
                        </td>
                        <td class="etd" align=center style="word-wrap:break-word;word-break:break-all;">
                            <p class="pFormItem" data-bean="ftItems1" data-controltype="label" />
                        </td>
                        <td class="etd" style="text-align: center">
                            <input type="button" value="生成表单模板" onclick="doPublishFormTemplate()" class="clsButton">
                            <input type="button" value="返回" onclick="doURL('formTemplateLIST.html');" class="clsButton">
                        </td>
                    </tr>
                </table>
            </div>
        </td>
    </tr>
    <tr id="tr_button" style="height: 20px;" valign="top">
        <td valign="top">
            <table class="etable" width="100%">
                <tr>
                    <th class="bth" width="7%" style="cursor: hand" id="baseInfo" onClick="$('#tr_form').show();$('#tr_formItem').hide();">表单模板</th>
                    <th class="bth" width="7%" style="cursor: hand" onClick="$('#tr_form').hide();
                                $('#frame_FormItem').attr('src', function(index, attr){
                                  return 'formItemTemplateLIST.html';
                                });
                                $('#tr_formItem').show();
                    ">表单子项</th>
            </table>
        </td>
    </tr>
    <tr id="tr_form" valign="top">
        <td width="100%" height="80%" valign="top">
            <form action="addOrUpdateForm" id="dynamicForm" method="post" onsubmit="return addData()" target="_self">
                <table align="center" height="51">
                    <tr>
                        <td width="20%"></td>
                        <td align="center">
                            <h4 align="center">表单模板</h4>
                        </td>
                        <td width="20%"></td>
                    </tr>
                    <tr>
                        <td width="20%"></td>
                        <td align="center">
                            <input type="button" id="btnAdd" name="btnAdd" value="暂存" class="clsButton" onclick="gFormJS.evaluationTime = new Date().format('yyyy/MM/dd HH:mm:ss');gFormJS.status='N';gFormSave(this)">
                            <input type="button" id="btnAdd" name="btnAdd" value="保存並生成" class="clsButton" onclick="gFormJS.evaluationTime = new Date().format('yyyy/MM/dd HH:mm:ss');gFormJS.status='Y';gFormSave(this, function(rsGForm){doPublishFormTemplate()})">
                            <input type="button" value="返回查询界面" class="clsButton" onclick="doURL('formTemplateLIST.html')" />
                        </td>
                        <td width="20%"></td>
                    </tr>
                </table>
                <div class="abase_tab">
                    <ul class="tabs">
                        <li><a href="#tab_1">表单模板</a></li>
                    </ul>
                    <div id="tab_1" class="tab_content">
                        <table width="100%" class="etable" align="center" height="294">
                            <tr>
                                <th align="left">表单名字</th>
                                <td class="etd" colspan="3">
                                    <p class="pFormItem" data-bean="ftFormName" />
                                </td>
                            </tr>
                            <tr>
                                <th align="left">表单类型</th>
                                <td class="etd" colspan="3">
                                    <p class="pFormItem" data-bean="ftFormType" />
                                </td>
                            </tr>
                            <tr>
                                <th align="left">是否ditto</th>
                                <td class="etd" colspan="3">
                                    <p class="pFormItem" data-bean="ftDitto" />
                                </td>
                            </tr>
                            <tr>
                                <th align="left">條件連動式<br/>interlocking</th>
                                <td class="etd" colspan="3">
                                    <button class="w3-button w3-pale-green w3-hover-forst-green" onclick="editMode=false; showingModal('new'); return false;" style="margin-left: 10px; margin-top: 10px;">新增條件</button>
                                    <span class="w3-blink-text">NEW</span>
                                    <hr>
                                    <div id="conditionConnectList" style="padding-left: 10px;">

                                    </div>
                                    <hr>
                                    <p class="pFormItem" data-bean="ftInterlocking" style="margin-left: 10px; margin-right: 10px;" />
                                </td>
                            </tr>
                            <tr>
                                <th align="left">子項驗證規則<br/>verification</th>
                                <td class="etd" colspan="3">
                                    <p class="pFormItem" data-bean="ftVerification" />
                                </td>
                            </tr>
                            <tr>
                                <th align="left">表单子项</th>
                                <td class="etd" colspan="3">
                                    <p class="pFormItem" data-bean="ftItems" />
                                    <input type="button" value="请选择表单子项" onclick="bean_chooseItems='ftItems';chooseItems()">
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <table align="center">
                    <tr>
                        <td align="center">
                            <input type="button" id="btnAdd" name="btnAdd" value="暂存" class="clsButton" onclick="gFormJS.evaluationTime = new Date().format('yyyy/MM/dd HH:mm:ss');gFormJS.status='N';gFormSave(this)">
                            <input type="button" id="btnAdd" name="btnAdd" value="保存並生成" class="clsButton" onclick="gFormJS.evaluationTime = new Date().format('yyyy/MM/dd HH:mm:ss');gFormJS.status='Y';gFormSave(this, function(rsGForm){doPublishFormTemplate()})">
                            <input type="button" value="返回查询界面" class="clsButton" onclick="doURL('formTemplateLIST.html')" />
                        </td>
                    </tr>
                </table>
            </form>
            <div class="modal" id="div_chooseItems">
                <div class="background"></div>
                <div class="content" style="text-align: center">
                    <input type="button" class="clsButton" value="确定" onclick="confirm2()">
                    <input type="button" class="clsButton" value="关闭" onclick="closeSelf()">
                    <br />
                    <iframe id="frame_chooseFormItem" style="width: 100%;height: 96%;" border="0" style="border: 0;" scrolling="auto" src=""></iframe>
                </div>
            </div>
        </td>
    </tr>
    <tr id="tr_formItem" style="display: none;">
        <td id="td_formItem" width="100%">
            <iframe id="frame_FormItem" class="showFrame" frameborder="0" src="formItemTemplateLIST.html" scrolling="auto"></iframe>
        </td>
    </tr>
</table>
<!-- Modal For Condition -->
    <div id="conditionModal1" class="w3-modal">
        <div class="w3-modal-content w3-animate-right">

            <header class="w3-container w3-mineral-blue">
                <span onclick="document.getElementById('conditionModal1').style.display='none'; return false;"
                    class="w3-button w3-hover-sky-blue w3-display-topright">&times;</span>
                <h2>新 增 條 件 連 動 式 Step.1</h2>
            </header>
            <div class="w3-container w3-alice-blue w3-margin-large">
                <h3>※ 輸入判斷規則名稱及相關說明 ※</h3>
                <p>為了幫助後續維護及修改更為容易，加入詳細的說明更為妥善。</p>
            </div>
            <span class="w3-title">條件名稱</span>
            <div class="w3-container w3-block-1">
                <div class="w3-main-block w3-border-top">
                    <div class="w3-main-item">
                        <div class="w3-left">
                            <span>條件名稱：</span>
                        </div>
                        <div class="w3-right">
                            <input class="w3-input w3-border w3-large" type="text" onblur="addName(this)" placeholder="請輸入規則名稱。 Ex: 判斷條件01">
                        </div>
                    </div>
                    <div class="w3-main-item">
                        <div class="w3-left">
                            <span>備註：</span>
                        </div>
                        <div class="w3-right">
                            <input class="w3-input w3-border w3-large" type="text" onchange="addDesc(this)" placeholder="(Optional)">
                        </div>
                    </div>
                </div>
            </div>

            <footer class="w3-container w3-light-grey w3-padding">
                <button class="w3-button w3-dark-gray w3-border w3-site-left" style="margin-left: 10px;" onclick="document.getElementById('conditionModal1').style.display='none'; return false;">
                    取消
                </button>
                <button class="w3-button w3-dodger-red w3-hover-nany w3-border w3-site-center" style="margin: auto; display: none;" onclick="delLogic(this); return false;" id="deleteLogic">
                    刪除
                </button>
                <button class="w3-button w3-dodger-blue w3-hover-nany w3-border w3-site-right" style="margin-right: 10px;" onclick="nextPage(this, 2); return false;">
                    下一步
                </button>
            </footer>

        </div>
    </div>
    <div id="conditionModal2" class="w3-modal">
        <div class="w3-modal-content w3-animate-right">
            <header class="w3-container w3-mineral-blue">
                <span onclick="document.getElementById('conditionModal2').style.display='none'; return false;"
                    class="w3-button w3-hover-sky-blue w3-display-topright">&times;</span>
                <h2>新 增 條 件 連 動 式 Step.2</h2>
            </header>
            <div class="w3-container w3-alice-blue w3-margin-large">
                <h3>※ 新增主要驗證規則的元件 ※</h3>
                <p>選擇【主要元件】及【驗證規則】，若超過兩個主要元件需選擇【元件邏輯】
                    <a id="step2_open" href="" onclick="$('.step2_info').show();$('#step2_open').hide();$('#step2_close').show();return false;" style="background-color: #676967; color: #FFF; padding: 3px 10px; font-size: 10px;">打開教學</a>
                    <a id="step2_close" href="" onclick="$('.step2_info').hide();$('#step2_open').show();$('#step2_close').hide();return false;" style="display: none; background-color: #676967; color: #FFF; padding: 3px 10px; font-size: 10px;">關閉教學</a>
                </p>
                <p class="step2_info" style="display: none;">ps. 1 若要執行複雜判斷如 0~1歲、1~65歲、65~130歲 要分別顯示不同的選項時</p>
                <p class="step2_info" style="display: none;">ps. 2 可新增三組條件連動式並將 「執行模式」 設為onlyTrue</p>
                <p class="step2_info" style="display: none;">ps. 3 如此一來當條件不符合時就不會發生邏輯混亂</p>
            </div>
            <span class="w3-title">主要元件及邏輯</span>
            <!-- <button class="w3-title-btn w3-button" onclick="addMainItem(this)">+</button> -->
            <div class="w3-container w3-block-1" id="itemList">
                <div class="w3-main-block w3-border-top">
                    <div class="w3-main-item">
                        <div class="w3-left">
                            <span>主要元件：</span>
                        </div>
                        <div class="w3-right" id="beanList">
                            <!-- <button class="w3-button w3-border w3-pale-green w3-hover-forst-green"> 元件001 </button> -->
                        </div>
                    </div>
                    <div class="w3-main-item">
                        <div class="w3-left">
                            <span>元件邏輯：</span>
                        </div>
                        <div class="w3-right">
                            <select class="w3-select w3-border w3-disabled" disabled="disabled" id="mainLogic" onchange="addOperator(this)">
                                <option value="||">或 (||)</option>
                                <option value="&&">且 (&&)</option>
                            </select>
                        </div>
                    </div>
                    <div class="w3-main-item">
                        <div class="w3-left">
                            <span>執行模式：</span>
                        </div>
                        <div class="w3-right">
                            <select class="w3-select w3-border" id="mainRunMode" onchange="addRunMode(this)" style="width: 240px; max-width: 240px;">
                                <option value="auto">(&nbsp;&nbsp;&nbsp;auto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) 預設</option>
                                <option value="onlyTrue">(onlyTrue&nbsp;) 僅條件成立時執行</option>
                                <option value="onlyFalse">(onlyFalse) 僅條件不成立時執行</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="w3-container">
                <button class="w3-button w3-border w3-alice-blue w3-hover-alice-blue w3-site-left w3-disabled" onclick="editMainView(this); return false;" id="editMain" disabled="disabled">修改主元件</button>
                <button class="w3-button w3-border w3-rose-red w3-hover-dark-violet w3-disabled" onclick="delMainView(this); return false;" style="margin-left: 10px" id="delMain" disabled="disabled">刪除主元件</button>
                <button class="w3-button w3-border w3-bisque w3-hover-burly-wood w3-site-right" onclick="addMainView(this); return false;" id="addMain">新增主元件</button>
            </div>
            <br><hr>
            <div class="w3-scrollbar w3-transfer" style="height: 0px;" id="mainItemList">
                <div class="w3-container w3-block-1">
                    <!-- <button class="w3-title-btn w3-button" onclick="removeMainItem(this)"> X </button> -->
                    <div class="w3-main-block">
                        <div class="w3-main-item">
                            <div class="w3-left">
                                <span>主元件：</span>
                            </div>
                            <div class="w3-right">
                                <select class="w3-select w3-border" onchange="formItemChange(this)" id="beanMain">
                                    <option value="0">請選擇</option>
                                    <option value="checkbox">checkbox Item</option>
                                    <option value="radiobox">radiobox Item</option>
                                    <option value="input">input Item</option>
                                    <option value="select">select Item</option>
                                    <option value="other">...</option>
                                </select>
                                <input id="beanMainTxt" list="beanMainDataList" placeholder="搜尋" onchange="if ($('#beanMain').find('option[value$=\','+this.value+'\']').length!=0) $('#beanMain').val($('#beanMain').find('option[value$=\','+this.value+'\']').val()).change();"/>
                                <datalist id="beanMainDataList">
                                    <option value="checkbox" />
                                    <option value="radiobox" />
                                    <option value="input" />
                                    <option value="select" />
                                    <option value="other" />
                                </datalist>
                                <button class="w3-button w3-border w3-light-grey w3-site-right" onclick="cancelAdd(this); return false;" id="close">關閉</button>
                            </div>
                        </div>
                        <div class="w3-main-item mainItem chk" style="display: none">
                            <div class="w3-left">
                                <span>觸發指定值：</span>
                            </div>
                            <div class="w3-right">
                                <div class="w3-checkbox-group" id="checkboxGroup">
                                    <input class="w3-check" id="c1" type="checkbox" name="itemValue" value="值1">
                                    <label for="c1">值1</label>
                                    <input class="w3-check" id="c2" type="checkbox" name="itemValue" value="值2">
                                    <label for="c2">值2</label>
                                    <input class="w3-check" id="c3" type="checkbox" name="itemValue" value="值3">
                                    <label for="c3">值3</label>
                                    <input class="w3-check" id="c4" type="checkbox" name="itemValue" value="值4">
                                    <label for="c4">值4</label>
                                    <input class="w3-check" id="c5" type="checkbox" name="itemValue" value="值5">
                                    <label for="c5">值5</label>
                                </div>
                            </div>
                        </div>
                        <div class="w3-main-item mainItem chk" style="display: none">
                            <div class="w3-left">
                                <span>邏輯運算：</span>
                            </div>
                            <div class="w3-right">
                                <select class="w3-select w3-border" id="beanLogic">
                                    <option value="&&">且 (&&)</option>
                                    <option value="||">或 (||)</option>
                                </select>
                            </div>
                        </div>
                        <div class="w3-main-item mainItem ipt" style="display: none">
                            <div class="w3-left">
                                <span>類型：</span>
                            </div>
                            <div class="w3-right">
                                <select class="w3-select w3-border" id="beanType">
                                    <option value="string">文字</option>
                                    <option value="number">數字</option>
                                </select>
                            </div>
                        </div>
                        <div class="w3-main-item mainItem ipt" style="display: none">
                            <div class="w3-left">
                                <span>最小值：</span>
                            </div>
                            <div class="w3-right">
                                <input class="w3-input w3-border" type="text" id="beanMin" />
                            </div>
                        </div>
                        <div class="w3-main-item mainItem ipt" style="display: none">
                            <div class="w3-left">
                                <span>最大值：</span>
                            </div>
                            <div class="w3-right">
                                <input class="w3-input w3-border" type="text" id="beanMax" />
                            </div>
                        </div>
                        <div class="w3-main-item mainItem chk ipt" style="display: none">
                            <div class="w3-left">
                            </div>
                            <div class="w3-right">
                                <button class="w3-button w3-border w3-hover-aqtique-white w3-aqtique-white" onclick="addMainItem(this); return false;">完成</button>
                            </div>
                        </div>
                        <div class="w3-main-item mainItem commingSoon" style="display: none">
                            <div class="w3-left">
                            </div>
                            <div class="w3-right">
                                <h2>敬請期待 :) </h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="w3-container w3-light-grey w3-padding">
                <button class="w3-button w3-dark-gray w3-border w3-site-left" style="margin-left: 10px;" onclick="document.getElementById('conditionModal2').style.display='none'; return false;">
                    取消
                </button>
                <button class="w3-button w3-light-violet w3-hover-dark-violet w3-border w3-site-left" style="margin-left: 10px;" onclick="nextPage(this, 1); return false;">
                    上一步
                </button>
                <button class="w3-button w3-dodger-blue w3-hover-nany w3-border w3-site-right" style="margin-right: 10px;" onclick="nextPage(this, 3); return false;">
                    下一步
                </button>
            </footer>
        </div>
    </div>
    <div id="conditionModal3" class="w3-modal">
        <div class="w3-modal-content w3-animate-right">
            <header class="w3-container w3-mineral-blue">
                <span onclick="document.getElementById('conditionModal3').style.display='none'; return false;"
                    class="w3-button w3-hover-sky-blue w3-display-topright">&times;</span>
                <h2>新 增 條 件 連 動 式 Step.3</h2>
            </header>
            <div class="w3-container w3-alice-blue w3-margin-large">
                <h3>※ 新增次要元件條件及事件 ※</h3>
                <p>選擇【次要元件】，選擇事件及條件成立與不成立所觸發的事件
                    <a id="step3_open" href="" onclick="$('.step3_info').show();$('#step3_open').hide();$('#step3_close').show();return false;" style="background-color: #676967; color: #FFF; padding: 3px 10px; font-size: 10px;">打開教學</a>
                    <a id="step3_close" href="" onclick="$('.step3_info').hide();$('#step3_open').show();$('#step3_close').hide();return false;" style="display: none; background-color: #676967; color: #FFF; padding: 3px 10px; font-size: 10px;">關閉教學</a>
                </p>
                <p></p>
                <p></p>
                <p class="step3_info" style="display: none;">ps. 1 次要元件可利用 「<font color="#2566FD">parent</font>」 及 「<font color="#FA1E33">children</font>」 做到顯示/隱藏 「其他的html標籤」</p>
                <p class="step3_info" style="display: none;">ps. 2 「<font color="#2566FD">parent</font>」 相當於執行jQuery語法 $(次要元件).parents("<font color="#689F08">selector</font>:first")</p>
                <p class="step3_info" style="display: none;">ps. 3 「<font color="#FA1E33">children</font>」 相當於執行jQuery語法 $(次要元件).find("<font color="#689F08">selector</font>")</p>
                <p class="step3_info" style="display: none;">ps. 4 「<font color="#689F08">selector</font>」 即是輸入框中需要輸入的值</p>
                <p class="step3_info" style="display: none;">※ 當 「<font color="#2566FD">parent</font>」 有值時，會先執行 「<font color="#2566FD">parent</font>」 再執行 「<font color="#FA1E33">children</font>」 </p>
                <p class="step3_info" style="display: none;">※ <font color="#689F08">selector</font> 語法可參考 <a href="https://www.w3school.com.cn/jquery/jquery_ref_selectors.asp" style="text-decoration: underline; color: #222222;" target="_blank">w3school - jQuery 参考手册 - 选择器</a></p>
            </div>
            <span class="w3-title">影響元件及觸發事件</span>
            <div class="w3-container w3-block-1">
                <div class="w3-main-block w3-border-top">
                    <div class="w3-main-item">
                        <div class="w3-left" style="vertical-align: top; padding-top: 10px;">
                            <span>次要元件：</span>
                        </div>
                        <div class="w3-right">
                            <div class="w3-item-list" id="itemTempList">

                            </div>
                            <br/>
                            <!-- <label class="w3-padding" for="subItem01" id="labelItem01">
                                <input class="w3-check" type="checkbox" id="subItem01">
                                元件 001
                                <strong class="w3-btn w3-red" onclick="document.getElementById('labelItem01').style.display='none'">
                                X
                                </strong>
                            </label> -->
                            <button class="w3-btn w3-pale-green" onclick="addSubItem(this); return false;" id="addItemTempBtn">加入+</button>
                            <select class="w3-select w3-border" id="itemTemp" onchange="itemTempChange(this)" style="display: none">
                                <option value="0">請選擇</option>
                                <option value="1">元件 001</option>
                                <option value="2">元件 002</option>
                                <option value="3">元件 003</option>
                                <option value="4">元件 004</option>
                            </select>
                            <input id="itemTempTxt" list="itemTempDataList" placeholder="搜尋, 或輸入#XXX、.XXX後按下enter" onchange="if ($('#itemTemp').find('option[value$=\''+this.value+'\']').length!=0) $('#itemTemp').val($('#itemTemp').find('option[value$=\''+this.value+'\']').val()).change();" style="width: 300px;display: none" onkeyup="addSubItemEnter(this);" />
                            <datalist id="itemTempDataList">
                                <option value="checkbox" />
                                <option value="radiobox" />
                                <option value="input" />
                                <option value="select" />
                                <option value="other" />
                            </datalist>
                        </div>
                    </div>
                    <div class="w3-main-item">
                        <div class="w3-left">
                            <span>條件成立：</span>
                        </div>
                        <div class="w3-right">
                            <input id="evalTrueEventTxt" class="w3-input w3-border w3-large" type="text" onchange="addEvalTrueEvent(this)" placeholder="觸發事件。 Ex: alert('成功!')">
                        </div>
                    </div>
                    <div class="w3-main-item">
                        <div class="w3-left">
                            <span>條件不成立：</span>
                        </div>
                        <div class="w3-right">
                            <input id="evalFalseEventTxt" class="w3-input w3-border w3-large" type="text" onchange="addEvalFalseEvent(this)" placeholder="觸發事件。 Ex: alert('失敗!')">
                        </div>
                    </div>
                </div>
            </div>
            <footer class="w3-container w3-light-grey w3-padding">
                <button class="w3-button w3-dark-gray w3-border w3-site-left" style="margin-left: 10px;" onclick="document.getElementById('conditionModal3').style.display='none'; return false;">
                    取消
                </button>
                <button class="w3-button w3-light-violet w3-hover-dark-violet w3-border w3-site-left" style="margin-left: 10px;" onclick="nextPage(this, 2); return false;">
                    上一步
                </button>
                <button class="w3-button w3-light-violet w3-hover-dark-violet w3-border w3-site-right" style="margin-right: 10px;" onclick="submitJson(); return false;">
                    新增
                </button>
            </footer>
        </div>
    </div>
<!-- End Modal For Condition -->